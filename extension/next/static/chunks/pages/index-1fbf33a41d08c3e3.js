(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2905)}])},9968:function(e,s,t){"use strict";t.r(s),t.d(s,{deleteFromStorage:function(){return deleteFromStorage},fetchCounter:function(){return fetchCounter},getFromHistory:function(){return getFromHistory},inStorage:function(){return inStorage},saveToStorage:function(){return saveToStorage},savedOrganizer:function(){return savedOrganizer},updateAllStorage:function(){return updateAllStorage}});var merger=(e,s,t)=>e.filter(e=>!s.find(s=>e[t]===s[t])).concat(s);async function inStorage(e,s){console.log("inStorage");{let t=await chrome.storage.local.get(s);if(0!==Object.keys(t).length)return Object.values(t)[0].some(s=>s.word==e)}}async function saveToStorage(e,s,t){console.log("saveToStorage");{let t=await chrome.storage.local.get(s);(t=0==Object.keys(t).length?[]:t[s]).push(e),chrome.storage.local.set({[s]:t})}}async function updateAllStorage(e,s){console.log("updateStorage");{let t=await chrome.storage.local.get(s);if(0==Object.keys(t).length)throw Error("updateStorage: no data in storage");(t=t[s]).forEach(s=>{console.log("Current Data: ",e),s.word==e.word&&(s.status=e.status,s.favourite=e.favourite)}),console.log("Updated Data: ",t),chrome.storage.local.set({[s]:t})}}async function deleteFromStorage(e,s,t,r){console.log("deleteFromStorage");{t||(t=s);let n=Object.values(await chrome.storage.local.get(s))[0];if(r)for(var a=0;a<n.length;a++)n[a].timestamp==r&&(n.splice(a,1),a=n.length);else for(var a=0;a<n.length;a++)n[a].word==e&&(n.splice(a,1),a=n.length);"history"==t&&n.forEach(e=>{inStorage(e.word,"favourites")&&(e.status="active")}),0==n.length?chrome.storage.local.remove(s):chrome.storage.local.set({[s]:n})}}async function savedOrganizer(e){console.log("savedOrganizer");{let r=await chrome.storage.local.get("history"),a=await chrome.storage.local.get("favourites");var s=0!==Object.values(r).length?r.history:[],t=0!==Object.values(a).length?a.favourites:[];return s==[]&&t==[]&&dataInterpreter(e),merger(s,t,"word").filter((e,s,t)=>t.findIndex(s=>s.word===e.word)===s)}}async function fetchCounter(){console.log("fetch counter");{let e=await chrome.storage.local.get("fetchAmount");if(void 0==e){let e={time:Date.now(),amount:2};chrome.storage.local.set(e)}else Date.now()-e.time>864e5?(e.amount=0,e.time=Date.now(),chome.storage.local.set(e)):(e.amount+=2,chrome.storage.local.set(e))}}async function getFromHistory(e){console.log("getFromHistory");{let s=await chrome.storage.local.get("history");return 0==Object.keys(s).length?[]:Object.values(s)[0].find(s=>s.word==e)}}},2905:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return IndexPage}});var r=t(5893),a=t(7294),n=t(4320),fetchDataFunc=async function(){let e=await chrome.storage.local.get("keyPairs"),s=e.keyPairs[0].apiKey,t=e.keyPairs[0].hostKey;return console.log("api:",s,"host:",t),{urlWordApi:"https://wordsapiv1.p.rapidapi.com/words/",optionsWordApi:{method:"GET",headers:{"X-RapidAPI-Key":s,"X-RapidAPI-Host":t}}}},o=t(9968);async function searchWord(e,s,t){console.log("word to search:",e),/^[a-z]+$/i.test(e)?(s("loading"),getData(e,s,t)):console.log("Regex failed or no word.")}async function getData(e,s,t){console.log("getData");let r=await (0,o.savedOrganizer)(e);if(r.find(s=>s.word==e)){let a=r.find(s=>s.word==e);await (0,o.inStorage)(e,"favourites")&&(a.favourite=!0),s("wordOutput"),t(a),(0,o.saveToStorage)(a,"history")}else dataInterpreter(e,s,t)}async function dataInterpreter(e,s,t){console.log("dataInterpreter");let r=await fetchEnglishWord(e).then(),a={};if(!1==r[0].success)s("error");else{var n;let e={};e.word=r[0].word,e.timestamp=Date.now(),await (0,o.inStorage)(r[0].word,"favourites")&&(e.isFavourite=!0),r[0].results?(n=r[0].results,console.log("dataSorter"),n.forEach(function(e){a.hasOwnProperty(e.partOfSpeech)?a[e.partOfSpeech].push(e):(a[e.partOfSpeech]={},a[e.partOfSpeech]=[e])}),e.mainDef=r[0].results[0].definition):e.descr_message=" no further description for this :(",r[0].pronunciation&&(r[0].pronunciation.all?e.pronounciation=r[0].pronunciation.all:e.pronounciation=r[0].pronunciation),r[1].frequency&&r[1].frequency.perMillion&&(e.frequency=r[1].frequency.perMillion),e.definitions=a,await (0,o.saveToStorage)(e,"history"),s("wordOutput"),console.log("final data:",e),t(e)}}async function fetchEnglishWord(e){console.log("fetchEnglishWord"),(0,o.fetchCounter)();let s=await fetchDataFunc(),t=await fetch(s.urlWordApi+e,s.optionsWordApi),r=await fetch(s.urlWordApi+e+"/frequency",s.optionsWordApi),a=await t.json(),n=await r.json();return[a,n]}var i=t(3854);function CustomInput(){let{setActivePage:e,setWordData:s}=(0,a.useContext)(n.c),[t,o]=(0,a.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{className:"form-control",value:t,onChange:e=>o(e.target.value),placeholder:"Check some words"}),(0,r.jsx)("button",{onClick:function(){searchWord(t,e,s),o("")},className:"flex items-center justify-center w-8 h-8 border border-solid rounded-md",children:(0,r.jsx)(i.G4C,{})})]})}function Nav(){let{setActivePage:e}=(0,a.useContext)(n.c);return(0,r.jsx)("div",{className:"mt-3 mb-4",children:(0,r.jsx)("div",{className:"flex items-center justify-center gap-3",children:[{trigger:"favourites",color:"warning"},{trigger:"history",color:"info"},{trigger:"input"}].map(s=>(0,r.jsx)(r.Fragment,{children:"input"==s.trigger?(0,r.jsx)(CustomInput,{},"customInput"):(0,r.jsx)("button",{onClick:()=>e(s.trigger),className:"flex items-center justify-center w-8 h-8 border border-solid rounded-md btn-outline-".concat(s.color),children:"favourites"==s.trigger?(0,r.jsx)(i.xiv,{}):(0,r.jsx)(i.QCV,{})},s.trigger)}))})})}function Layout(e){let{children:s}=e;return(0,r.jsx)("div",{className:"flex flex-col min-h-[600px] min-w-[430px] p-4",children:s})}let Event=class Event{getCallbacks(){return this.callbacks}registerCallback(e){this.callbacks.push(e)}constructor(e){this.name=e,this.callbacks=[]}};let EventEmitter=class EventEmitter{registerEvent(e){for(let s of e){let e=new Event(s);this.events[s]=e}}addEventListener(e,s){if(!this.events[e])throw Error("Event ".concat(e," is not registered."));this.events[e].registerCallback(s)}constructor(e=[]){this.events={},this.emitEvent=(e,s)=>{this.events[e]&&this.events[e].getCallbacks().forEach(e=>e(s))},this.registerEvent(e)}};let Messenger=class Messenger extends EventEmitter{static directSend(e,s,t){let r=new Messenger(e,s);r.send(t)}listen(){chrome.runtime.onMessage.addListener((e,s)=>{console.log("message",e),e.recipient===this.origin&&this.receive(e)})}setIsAllowed(e){this.isAllowed=e,this.dispatch()}dispatch(){for(let e of this.queue){let s;e.recipient?(s=e.recipient,delete e.recipient):s=this.defaultRecipient,chrome.runtime.sendMessage({origin:this.origin,recipient:s,content:e})}this.queue=[]}send(e){this.addToQueue(e),this.isAllowed&&this.dispatch()}addToQueue(e){if(Array.isArray(e))for(let s of e)this.queue.push(s);else this.queue.push(e)}receive(e){let s=Object.keys(e.content)[0];this.emitEvent(s,{origin:e.origin,data:e.content[s]})}constructor(e,s,t=!0){super(),this.origin=e,this.defaultRecipient=s,this.isAllowed=t,this.queue=[]}};function CustomLoader(e){let{type:s}=e;switch(s){case"packman":return(0,r.jsx)("div",{id:"pac-loader",className:"pac-man"});case"cube":return(0,r.jsx)("div",{id:"cube-loader",children:(0,r.jsx)("div",{className:"scene",children:(0,r.jsx)("div",{className:"cube-wrapper",children:(0,r.jsx)("div",{className:"cube",children:(0,r.jsxs)("div",{className:"cube-faces",children:[(0,r.jsx)("div",{className:"cube-face bottom"}),(0,r.jsx)("div",{className:"cube-face top"}),(0,r.jsx)("div",{className:"cube-face left"}),(0,r.jsx)("div",{className:"cube-face right"}),(0,r.jsx)("div",{className:"cube-face back"}),(0,r.jsx)("div",{className:"cube-face front"})]})})})})});case"lines":return(0,r.jsx)("div",{id:"lines-loader",children:(0,r.jsxs)("div",{className:"content",children:[(0,r.jsxs)("div",{className:"bars",children:[(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"})]}),(0,r.jsxs)("div",{className:"bars",children:[(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"}),(0,r.jsx)("div",{className:"bar"})]})]})});case"dots":return(0,r.jsx)("div",{id:"dots-loader",className:"justify-content-center mt-3",children:(0,r.jsxs)("div",{className:"loading",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})});case"spinner":return(0,r.jsx)("div",{id:"dot-spin-loader",children:(0,r.jsx)("div",{className:"circle me-auto ms-auto",children:(0,r.jsx)("div",{className:"inner"})})})}}function WordNotFound(){return(0,r.jsx)("div",{className:"d-flex flex-column justify-congtent-center align-items-center",children:(0,r.jsxs)("div",{className:"fs-3 mb-2 mt-3 text-center",children:[(0,r.jsx)("span",{className:"acc-color",children:"Oops,"})," it looks like it went to shit :("]})})}let{inStorage:c,deleteFromStorage:l,saveToStorage:d,updateAllStorage:u,getFromHistory:m}=t(9968);async function toggleFavourites(e,s){if(console.log("TOGGLE FAVOURITE: ",s),e.stopPropagation(),await c(s,"favourites")){l(s,"favourites","favs");let e=await m(s);console.log("wordToChange: ",e),e&&(e.status="",e.favourite=!1,u(e,"history",""),document.querySelectorAll("[data-id=favBtn-".concat(s,"]")).forEach(e=>e.classList.remove("active")))}else{let e=await c(s,"history");if(e){let e=await m(s);e.status="active",e.favourite=!0,d(e,"favourites",""),u(e,"history",""),document.querySelectorAll("[data-id=favBtn-".concat(s,"]")).forEach(e=>e.classList.add("active"))}else console.error("word not in history storage")}}async function deleteFromHistory(e,s){e.stopPropagation(),await l("","history","",s),document.getElementById(s).remove()}function WordLine(e){let{type:s,clickAction:t,word:a,pronounciation:n,mainDef:o,timestamp:c,favourite:l}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{id:c,onClick:t,className:"flex justify-between w-full b-b-acc acc p-2 historyItem mb-2 ".concat("favourites"===s?"fav":""),children:[(0,r.jsxs)("div",{className:"pe-2",children:[(0,r.jsxs)("div",{className:"items-center flex",children:[(0,r.jsx)("span",{className:"".concat("history"===s?"acc-color":"fav-color"," me-3 $"),children:a}),n?(0,r.jsx)("div",{className:"text-xs leading-6 sec-color",children:n}):(0,r.jsx)("div",{className:"text-xs leading-6 sec-color",children:"unknown :("})]}),o?(0,r.jsx)("div",{className:"sec-color",children:o}):(0,r.jsx)("div",{className:"sec-color text-xs leading-6 flex align-items-center",children:"unknown :("})]}),(0,r.jsxs)("div",{className:"flex mt-2 gap-3 ml-auto",children:[(0,r.jsx)("button",{"data-id":"favBtn-".concat(a),onClick:e=>toggleFavourites(e,a),className:"flex items-center justify-center w-8 h-8 border border-solid rounded-md btn-outline-".concat("history"==s?"info":"warning"," ").concat(l?"active":""),children:(0,r.jsx)(i.KHK,{})}),"history"===s&&(0,r.jsx)("button",{onClick:e=>deleteFromHistory(e,c),className:"flex items-center justify-center w-8 h-8 border border-solid rounded-md",children:(0,r.jsx)(i._YF,{})})]})]})})}function HistoryFavourites(e){let{type:s,data:t}=e,{setWordData:o,setActivePage:i}=(0,a.useContext)(n.c);return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"max-h-[calc(100vh-140px)] overflow-auto",children:t.reverse().map((e,t)=>(0,r.jsx)(WordLine,{clickAction:()=>searchWord(e.word,i,o),type:s,word:e.word,pronounciation:e.pronounciation,mainDef:e.mainDef,timestamp:e.timestamp,favourite:e.favourite},"".concat(t)))}),"history"===s&&(0,r.jsx)("button",{onClick:()=>(chrome.storage.local.remove("history"),[]),className:"flex items-center gap-2 w-fit px-4 py-1 rounded-md mt-3 mx-auto border border-solid btn-outline-secondary",children:"Clear history"})]}):(0,r.jsxs)("div",{className:"w-full text-center text-xl",children:["It's ",(0,r.jsx)("span",{className:"history"===s?"acc-color":"fav-color",children:"sooooo "})," empty in here..."]})})}function Settings(){return(0,r.jsx)("div",{children:"Settings"})}function NumberCircle(e){let{number:s}=e;return(0,r.jsx)("div",{className:"flex m-2 mr-4",children:(0,r.jsx)("div",{className:"flex justify-center items-center w-[1.875rem] h-[1.875rem] rounded-full border border-solid border-accent",children:s})})}function Welcome(){let{setActivePage:e}=(0,a.useContext)(n.c),[s,t]=(0,a.useState)(""),[o,i]=(0,a.useState)("wordsapiv1.p.rapidapi.com");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-2xl mb-3 text-center",children:["Oops, it looks like you dont't have an ",(0,r.jsx)("span",{className:"acc-color",children:"API key"})," or ",(0,r.jsx)("span",{className:"acc-color",children:"Host "}),":("]}),(0,r.jsxs)("div",{className:"mb-2 text-center",children:["Let's ",(0,r.jsx)("span",{className:"acc-color",children:"fix"})," it!"]}),(0,r.jsxs)("div",{className:"flex mb-3",children:[(0,r.jsx)(NumberCircle,{number:1}),(0,r.jsx)("div",{className:"flex items-center ps-2 b-l-acc",children:(0,r.jsxs)("div",{children:["If you don't have one yet, go ",(0,r.jsx)("a",{href:"https://rapidapi.com/dpventures/api/wordsapi/pricing",children:"here"})," and press ",(0,r.jsx)("span",{className:"acc-color",children:"Subscribe"})," on any plan you like."]})})]}),(0,r.jsxs)("div",{className:"flex mb-3",children:[(0,r.jsx)(NumberCircle,{number:2}),(0,r.jsx)("div",{className:"flex items-center ps-2 b-l-acc",children:(0,r.jsxs)("div",{children:["If you already have one or just got a brand new key from the step above, ",(0,r.jsx)("span",{className:"acc-color",children:"fill"})," these in:"]})})]}),(0,r.jsxs)("div",{className:"flex mb-3",children:[(0,r.jsx)(NumberCircle,{number:3}),(0,r.jsxs)("div",{className:"ps-2 b-l-acc w-full ".concat(s?"":"ps-2 b-l-acc w-full error-brdr"),children:[(0,r.jsxs)("div",{className:"mb-1",children:["API key ",(0,r.jsx)("span",{className:"sec-color text-xs",children:"(X-RapidAPI-Key)"}),":"]}),(0,r.jsx)("input",{onChange:e=>t(e.target.value),type:"text",placeholder:"Your API key",value:s,className:"form-control"})]})]}),(0,r.jsxs)("div",{className:"flex mb-5",children:[(0,r.jsx)(NumberCircle,{number:4}),(0,r.jsxs)("div",{className:"ps-2 b-l-acc w-full ".concat(o?"":"ps-2 b-l-acc w-full error-brdr"),children:[(0,r.jsxs)("div",{className:"mb-1",children:["Host ",(0,r.jsx)("span",{className:"sec-color text-xs",children:"(X-RapidAPI-Host)"}),":"]}),(0,r.jsx)("input",{onChange:e=>i(e.target.value),type:"text",placeholder:"Your host",value:o,className:"form-control"})]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{onClick:function(){if(s&&o){let t={apiKey:s,hostKey:o,id:Date.now()},r=[];r.push(t),Messenger.directSend("welcome","background",[{"store-data":{keyPairs:r}},{"store-data":{apiKey:s}},{"store-data":{hostKey:o}}]),e("wordOutput")}},className:"".concat(o&&s?"":"opacity-[70%]"),children:"Start lookuping"})})]})})}function WordCrumb(e){let{word:s}=e,{setWordData:t,setActivePage:o}=(0,a.useContext)(n.c);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{onClick:()=>searchWord(s,o,t),className:"w-fit mt-0 mr-1.5 mb-1.5 ml-0 py-[0.0625] px-2 border border-solid border-mainText rounded-2xl text-sm opacity-[0.85] cursor-pointer wordCrumb",children:(0,r.jsx)("span",{children:s})})})}function WordMainInfo(e){let{word:s,favourite:t,frequency:a,pronounciation:n}=e;return(0,r.jsx)(r.Fragment,{children:s?(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"mb-2 text-xl capitalize",children:s}),(0,r.jsx)("span",{className:"text-xs acc-color",children:"Frequency per million: "}),a?(0,r.jsx)("div",{className:"sec-color",children:a}):(0,r.jsx)("div",{className:"sec-color",children:"unknown :("})]}),(0,r.jsxs)("div",{className:"flex flex-col mt-2",children:[(0,r.jsx)("span",{className:"text-xs acc-color",children:"Pronunciation: "}),n?(0,r.jsx)("div",{className:"sec-color",children:n}):(0,r.jsx)("div",{className:"sec-color",children:"unknown :("})]})]}),(0,r.jsx)("button",{"data-id":"favBtn-".concat(s),onClick:e=>toggleFavourites(e,s),className:"".concat(t?"active":""," btn-outline-info  flex items-center justify-center w-8 h-8 m-4 border border-solid rounded-md"),children:(0,r.jsx)(i.KHK,{})})]}):(0,r.jsxs)("div",{className:"text-xl text-center",children:["Try ",(0,r.jsx)("span",{className:"acc-color",children:"looking up"})," something using the ",(0,r.jsx)("span",{className:"acc-color",children:"input"})," above!"]})})}function WordOutput(){let e,{wordData:s}=(0,a.useContext)(n.c);return s&&s.definitions&&console.log("word:",e=Object.values(s.definitions)),(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(WordMainInfo,{word:s.word,favourite:s.favourite,frequency:s.frequency,pronounciation:s.pronounciation}),s.descr_message&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("span",{className:"acc-color",children:"Sorry,"}),s.descr_message]})]}),e&&e.map((e,s)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"capitalize",children:e[0].partOfSpeech},"defTypeName-".concat(s)),(0,r.jsx)("div",{className:"flex flex-col h-full",children:e&&e.map((e,s)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(NumberCircle,{number:s+1}),(0,r.jsxs)("div",{className:"d-flex flex-column ps-2 mb-1 mt-1 b-l-acc",children:[(0,r.jsx)("div",{children:e.definition}),e.examples&&e.examples.map((e,s)=>(0,r.jsxs)("div",{children:[" - ",e]},"example-".concat(s))),e.synonyms&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"fs-11 sec-color",children:"Synonyms: "}),(0,r.jsx)("div",{className:"flex flex-wrap w-full mt-1",children:e.synonyms&&e.synonyms.map(e=>(0,r.jsx)(WordCrumb,{word:e},e))})]}),e.hasTypes&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"fs-11 sec-color",children:"Hyponyms: "}),(0,r.jsx)("div",{className:"flex flex-wrap w-full mt-1",children:e.hasTypes&&e.hasTypes.map(e=>(0,r.jsx)(WordCrumb,{word:e},e))})]}),e.typeOf&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"fs-11 sec-color",children:"Hypernyms: "}),(0,r.jsx)("div",{className:"flex flex-wrap w-full mt-1",children:e.typeOf&&e.typeOf.map(e=>(0,r.jsx)(WordCrumb,{word:e},e))})]})]})]},"def-".concat(s))}))},"defType-".concat(s))]}))]})}function ActivePage(){let{activePage:e}=(0,a.useContext)(n.c),s=new Messenger("active-page","background",!0);s.registerEvent(["handshake","get-stored-data"]);let[t,o]=(0,a.useState)(null),[i,c]=(0,a.useState)(null);switch((0,a.useEffect)(()=>{console.log("PAGE:",e),("history"===e||"favourites"===e)&&(s.listen(),s.addEventListener("get-stored-data",e=>{e.data&&(o(e.data.history),c(e.data.favourites))}),"history"==e&&s.send({"request-stored-data":"history"}),"favourites"==e&&s.send({"request-stored-data":"favourites"}))},[e]),e){case"welcome":return(0,r.jsx)(Welcome,{});case"settings":return(0,r.jsx)(Settings,{});case"history":return(0,r.jsx)(HistoryFavourites,{data:t,type:"history"});case"favourites":return(0,r.jsx)(HistoryFavourites,{data:i,type:"favourites"});case"wordOutput":return(0,r.jsx)(WordOutput,{});case"error":return(0,r.jsx)(WordNotFound,{});case"loading":return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(CustomLoader,{type:"cube"})})}}function IndexPage(){let{activePage:e,setActivePage:s}=(0,a.useContext)(n.c);{let e=new Messenger("index","background");e.listen(),e.registerEvent(["get-stored-data"]),e.addEventListener("get-stored-data",e=>{if(console.log("index received stored data"),e.data.keyPairs){let t=e.data.keyPairs[0].apiKey,r=e.data.keyPairs[0].hostKey;(0==Object.keys(t).length||0==Object.keys(r).length)&&s("welcome")}else console.log("no keypairs"),s("welcome")})}return(0,a.useEffect)(()=>{console.log("sending handshake from index..."),Messenger.directSend("index","background",[{handshake:!0},{"request-stored-data":"keyPairs"}])},[]),(0,r.jsxs)(Layout,{children:["welcome"!=e&&(0,r.jsx)(Nav,{}),(0,r.jsx)(ActivePage,{})]})}},8357:function(e,s,t){"use strict";t.d(s,{w_:function(){return GenIcon}});var r=t(7294),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(a),__assign=function(){return(__assign=Object.assign||function(e){for(var s,t=1,r=arguments.length;t<r;t++)for(var a in s=arguments[t])Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);return e}).apply(this,arguments)},__rest=function(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>s.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>s.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t};function GenIcon(e){return function(s){return r.createElement(IconBase,__assign({attr:__assign({},e.attr)},s),function Tree2Element(e){return e&&e.map(function(e,s){return r.createElement(e.tag,__assign({key:s},e.attr),Tree2Element(e.child))})}(e.child))}}function IconBase(e){var elem=function(s){var t,a=e.attr,n=e.size,o=e.title,i=__rest(e,["attr","size","title"]),c=n||s.size||"1em";return s.className&&(t=s.className),e.className&&(t=(t?t+" ":"")+e.className),r.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,i,{className:t,style:__assign(__assign({color:e.color||s.color},s.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==n?r.createElement(n.Consumer,null,function(e){return elem(e)}):elem(a)}}},function(e){e.O(0,[556,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);